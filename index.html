<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meetly Now – Spotkaj się teraz. Bez zdjęć. Bez czekania.</title>
    <meta name="description" content="Otwierasz aplikację – widzisz, gdzie dzieje się spotkanie. Pobierz Meetly Now i wejdź do gry.">
    <meta name="keywords" content="meetly, meetly now, spotkania, impreza, na żywo, teraz, okolica, aplikacja, social">
    <meta name="theme-color" content="#000000">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='none' stroke='%2300ffff' stroke-width='10'/%3E%3C/svg%3E">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://meetlynow.app">
    <meta property="og:title" content="Meetly Now – Spotkaj się teraz. Bez zdjęć. Bez czekania.">
    <meta property="og:description" content="Otwierasz aplikację – widzisz, gdzie dzieje się spotkanie. Pobierz Meetly Now i wejdź do gry.">
    <meta property="og:image" content="https://meetlynow.app/bg/1.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://meetlynow.app">
    <meta property="twitter:title" content="Meetly Now – Spotkaj się teraz. Bez zdjęć. Bez czekania.">
    <meta property="twitter:description" content="Otwierasz aplikację – widzisz, gdzie dzieje się spotkanie. Pobierz Meetly Now i wejdź do gry.">
    <meta property="twitter:image" content="https://meetlynow.app/bg/1.jpg">

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-XXXX');</script>
    <!-- End Google Tag Manager -->

    <style>
        :root {
            --neon-glow: 0 0 10px rgba(0, 255, 255, 0.8), 0 0 25px rgba(0, 255, 255, 0.6), 0 0 50px rgba(0, 255, 255, 0.4);
            --phone-rotate-x: 0deg;
            --phone-rotate-y: 0deg;
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { font-size: 16px; }
        body {
            background-color: #000;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            overscroll-behavior-y: contain;
            overflow-x: hidden;
        }
        #page-wrapper {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
        }
        #story-container {
            scroll-snap-align: start;
        }
        .story {
            height: 100vh;
            width: 100vw;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            overflow: hidden;
        }
        .story::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.8) 100%);
            z-index: 1;
        }
        .story-content {
            position: relative;
            z-index: 2;
            max-width: 600px;
        }
        h1, h2 {
            font-weight: 700;
            text-shadow: 0 0 20px rgba(0,0,0,0.9);
            font-size: clamp(2.2rem, 6vw, 4rem);
            line-height: 1.2;
        }
        h2 { font-size: clamp(1.8rem, 5vw, 3rem); }
        p { font-size: clamp(1rem, 2.5vw, 1.2rem); opacity: 0.9; margin-top: 1rem; }

        /* Story 1: Hero */
        #story1 #video-bg {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: 0;
            object-fit: cover;
        }
        #story1 h1 { animation: pulse-text 3s infinite ease-in-out; }

        /* Story 2: 3D Phone */
        #phone-perspective { perspective: 1500px; }
        #phone-3d {
            width: 280px; height: 570px;
            transform-style: preserve-3d;
            transform: rotateX(var(--phone-rotate-x)) rotateY(var(--phone-rotate-y));
            transition: transform 0.1s ease-out;
            position: relative;
        }
        .phone-frame {
            width: 100%; height: 100%;
            background: #111;
            border-radius: 45px;
            border: 2px solid #555;
            box-shadow: 0 0 30px rgba(0,0,0,0.7), inset 0 0 8px rgba(255,255,255,0.1);
            padding: 15px;
        }
        .phone-screen {
            width: 100%; height: 100%;
            background: url('https://meetlynow.app/phone-screen.png') no-repeat center center;
            background-size: cover;
            border-radius: 30px;
            box-shadow: 0 0 25px 5px rgba(0, 255, 255, 0.25);
            animation: pulse-glow-screen 4s infinite;
        }

        /* Story 3: Live Bubble */
        #story3 .story-content {
            background: url('https://meetlynow.app/bg/3.jpg') no-repeat center center;
            background-size: cover;
            padding: 4rem 2rem;
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
        }

        /* Story 4: Final CTA */
        #story4 { background: url('https://meetlynow.app/bg/4.jpg') no-repeat center center; background-size: cover; }
        #qr-code {
            margin-top: 2rem;
            padding: 10px;
            background: #fff;
            border-radius: 16px;
            display: inline-block;
            animation: pulse-qr 2.5s infinite;
        }
        #qr-code img { display: block; width: 160px; height: 160px; }
        .store-badges { margin-top: 2rem; display: flex; justify-content: center; gap: 1rem; }
        .store-badges img { height: 50px; transition: transform 0.2s; }
        .store-badges img:hover { transform: scale(1.05); }

        /* CTA Button */
        .cta-button {
            background: #00ffff;
            color: #000;
            border: none;
            border-radius: 50px;
            padding: 1rem 3rem;
            font-size: 1.4rem;
            font-weight: 700;
            cursor: pointer;
            text-transform: uppercase;
            text-decoration: none;
            margin-top: 2rem;
            display: inline-block;
            box-shadow: var(--neon-glow);
            transition: transform 0.2s, box-shadow 0.3s;
            animation: pulse-button 2s infinite 1s;
        }
        .cta-button:hover, .cta-button:focus {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 255, 255, 1), 0 0 40px rgba(0, 255, 255, 0.9), 0 0 80px rgba(0, 255, 255, 0.7);
        }

        /* Live Bubble */
        #live-bubble {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) scale(0);
            background: rgba(20, 20, 20, 0.7);
            backdrop-filter: blur(12px);
            color: #fff;
            padding: 12px 24px;
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            font-size: 0.95rem;
            z-index: 100;
            white-space: nowrap;
            pointer-events: none;
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s;
            opacity: 0;
        }
        #live-bubble.visible {
            transform: translateX(-50%) scale(1);
            opacity: 1;
        }

        /* Sound Toggle */
        #sound-toggle {
            position: fixed; top: 20px; right: 20px;
            background: rgba(30, 30, 30, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            width: 44px; height: 44px;
            cursor: pointer; z-index: 100;
            backdrop-filter: blur(5px);
            display: flex; justify-content: center; align-items: center;
        }
        #sound-toggle svg { width: 24px; height: 24px; fill: #fff; }

        /* Cursor Glow */
        #cursor-glow {
            position: fixed;
            width: 50px; height: 50px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(0,255,255,0.4) 0%, rgba(0,255,255,0) 60%);
            mix-blend-mode: screen;
            pointer-events: none;
            transform: translate(-50%, -50%);
            z-index: 9999;
            transition: width 0.3s, height 0.3s, opacity 0.3s;
            display: none;
        }
        @media (pointer: fine) { #cursor-glow { display: block; } }

        /* Particle Snow */
        #particle-container {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100vh;
            pointer-events: none; z-index: 3;
        }
        .particle {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            animation: fall linear infinite;
            opacity: 0;
        }
        @keyframes fall {
            0% { transform: translateY(-10vh) scale(1); opacity: 1; }
            100% { transform: translateY(110vh) scale(0.5); opacity: 0; }
        }

        /* Cookie Banner */
        #cookie-banner {
            position: fixed; bottom: -100%; left: 0; right: 0;
            background: rgba(0,0,0,0.9);
            padding: 1.5rem;
            text-align: center;
            z-index: 1001;
            transition: bottom 0.5s ease-in-out;
        }
        #cookie-banner.show { bottom: 0; }
        #cookie-banner p { margin-bottom: 1rem; }
        .cookie-buttons button {
            background: #00ffff; color: #000; border: none; border-radius: 20px;
            padding: 0.6rem 1.2rem; font-size: 0.9rem; font-weight: 600; cursor: pointer;
            margin: 0 0.5rem;
        }
        .cookie-buttons button#cookie-reject { background: #444; color: #fff; }

        /* Animations */
        @keyframes pulse-text {
            0%, 100% { text-shadow: 0 0 20px rgba(0,0,0,0.9); }
            50% { text-shadow: 0 0 20px rgba(0,0,0,0.9), 0 0 10px rgba(0, 255, 255, 0.8); }
        }
        @keyframes pulse-glow-screen {
            0%, 100% { box-shadow: 0 0 25px 5px rgba(0, 255, 255, 0.25); }
            50% { box-shadow: 0 0 40px 10px rgba(0, 255, 255, 0.4); }
        }
        @keyframes pulse-button {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }
        @keyframes pulse-qr {
            0%, 100% { transform: scale(1); box-shadow: 0 0 15px rgba(255,255,255,0.3); }
            50% { transform: scale(1.05); box-shadow: 0 0 30px rgba(255,255,255,0.6); }
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            #video-bg, #particle-container { display: none; }
            * { animation: none !important; transition: none !important; }
        }
        #page-wrapper::-webkit-scrollbar { display: none; }
        #page-wrapper { -ms-overflow-style: none; scrollbar-width: none; }

        /* Footer */
        #main-footer {
            background: #0a0a0a;
            color: #888;
            padding: 3rem 2rem;
            text-align: center;
            font-size: 0.9rem;
            scroll-snap-align: end;
        }
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .footer-links a {
            color: #aaa;
            text-decoration: none;
            transition: color 0.2s;
        }
        .footer-links a:hover {
            color: #00ffff;
        }
    </style>
</head>
<body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-XXXX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <div id="cursor-glow"></div>
    <div id="particle-container"></div>

    <button id="sound-toggle" aria-label="Toggle sound">
        <svg id="sound-on-icon" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16.02C15.5,15.29 16.5,13.77 16.5,12M3,9V15H7L12,20V4L7,9H3Z"/></svg>
        <svg id="sound-off-icon" viewBox="0 0 24 24" style="display: none;"><path d="M12,4L7,9H3V15H7L12,20V4M21.48,12C21.48,12.96 21.3,13.9 20.97,14.78L19.5,13.31C19.83,12.9 20,12.46 20,12C20,9.91 18.8,8.14 17,7.29V9.36L19.1,11.46C19.34,11.64 19.48,11.81 19.48,12M17,16.82L15,14.82V18.7C16.14,17.93 16.8,16.8 16.92,15.55L17,15.5V15.53M14,18.7L12.39,17.09L14,15.48V18.7M12,8.7L9.28,6L12,3.28V8.7M4.27,3L3,4.27L7.73,9H3V15H7.73L12,19.27V13.54L16.73,18.27C16.09,18.72 15.38,19.09 14.6,19.34V21.34C15.96,21.03 17.2,20.43 18.24,19.6L20.73,22.1L22,20.83L4.27,3Z"/></svg>
    </button>
    
    <main id="page-wrapper">
        <div id="story-container">
            <section id="story1" class="story">
                <video id="video-bg" src="https://meetlynow.app/vid/dark-party-loop.webm" autoplay muted loop playsinline></video>
                <div class="story-content">
                    <h1>Meetly Now – Spotkaj się teraz. Bez zdjęć. Bez czekania.</h1>
                </div>
            </section>

            <section id="story2" class="story">
                <div class="story-content">
                    <h2>Otwierasz aplikację – widzisz, gdzie dzieje się spotkanie.</h2>
                    <div id="phone-perspective">
                        <div id="phone-3d">
                            <div class="phone-frame"><div class="phone-screen"></div></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="story3" class="story">
                <div class="story-content">
                    <h2>Kasia dołączyła do chillu w parku – 200 m od Ciebie</h2>
                    <p>Dyskretne powiadomienia o tym, co dzieje się wokół. Bez spamu. Tylko realne okazje.</p>
                </div>
            </section>

            <section id="story4" class="story">
                <div class="story-content">
                    <h2>Pobierz aplikację i wejdź do gry.</h2>
                    <a href="https://apps.apple.com/pl/app/meetly-now/id6479093229" class="cta-button" id="cta-main">Dołącz teraz</a>
                    <div class="store-badges">
                        <a href="https://apps.apple.com/pl/app/meetly-now/id6479093229"><img src="https://meetlynow.app/badges/app-store.svg" alt="Pobierz z App Store"></a>
                        <a href="https://play.google.com/store/apps/details?id=com.wikingrams.meetlynow"><img src="https://meetlynow.app/badges/google-play.svg" alt="Pobierz z Google Play"></a>
                    </div>
                    <div id="qr-code">
                        <img src="https://meetlynow.app/qr/256.png" alt="QR Code do pobrania aplikacji">
                    </div>
                </div>
            </section>
        </div>

        <footer id="main-footer">
            <div class="footer-links">
                <a href="cennik.html">Cennik</a>
                <a href="polityka-prywatnosci.html">Polityka Prywatności</a>
                <a href="regulamin.html">Regulamin</a>
                <a href="wsparcie.html">Wsparcie</a>
            </div>
            <p>&copy; 2025 Meetly Now. Wszelkie prawa zastrzeżone.</p>
        </footer>
    </main>

    <div id="live-bubble"><span id="live-bubble-content"></span></div>
    
    <div id="cookie-banner">
        <p>Używamy plików cookie, aby zapewnić najlepsze działanie strony. Kontynuując, zgadzasz się na ich użycie.</p>
        <div class="cookie-buttons">
            <button id="cookie-accept">Akceptuj</button>
            <button id="cookie-reject">Odrzuć</button>
        </div>
    </div>

    <audio id="background-beat" src="https://meetlynow.app/audio/beat-10s.mp3" loop></audio>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const body = document.body;
        const reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

        // --- COOKIE BANNER ---
        const cookieBanner = document.getElementById('cookie-banner');
        const cookieAccept = document.getElementById('cookie-accept');
        const cookieReject = document.getElementById('cookie-reject');
        
        setTimeout(() => {
            if (!localStorage.getItem('cookieConsent')) {
                cookieBanner.classList.add('show');
            }
        }, 1000);

        cookieAccept.addEventListener('click', () => {
            localStorage.setItem('cookieConsent', 'true');
            cookieBanner.classList.remove('show');
            window.dataLayer.push({'event': 'cookie_consent_granted'});
        });

        cookieReject.addEventListener('click', () => {
            localStorage.setItem('cookieConsent', 'false');
            cookieBanner.classList.remove('show');
        });

        // --- SOUND ---
        const audio = document.getElementById('background-beat');
        const soundToggle = document.getElementById('sound-toggle');
        const soundOnIcon = document.getElementById('sound-on-icon');
        const soundOffIcon = document.getElementById('sound-off-icon');
        audio.volume = 0.08;
        let isMuted = localStorage.getItem('soundMuted') !== 'false';

        const updateSoundUI = () => {
            soundOnIcon.style.display = isMuted ? 'none' : 'block';
            soundOffIcon.style.display = isMuted ? 'block' : 'none';
            audio.muted = isMuted;
        };

        soundToggle.addEventListener('click', () => {
            isMuted = !isMuted;
            localStorage.setItem('soundMuted', isMuted);
            updateSoundUI();
            if (!isMuted && audio.paused) {
                audio.play().catch(() => {});
            }
        });
        
        const playAudioOnFirstInteraction = () => {
            if (!isMuted && audio.paused) {
                audio.play().catch(() => {});
            }
            document.removeEventListener('scroll', playAudioOnFirstInteraction);
            document.removeEventListener('click', playAudioOnFirstInteraction);
        };
        document.addEventListener('scroll', playAudioOnFirstInteraction, { once: true });
        document.addEventListener('click', playAudioOnFirstInteraction, { once: true });
        updateSoundUI();

        // --- 3D PHONE ---
        const phone3d = document.getElementById('phone-3d');
        if (phone3d && !reducedMotion) {
            const story2 = document.getElementById('story2');
            
            const handleMove = (x, y) => {
                const rect = story2.getBoundingClientRect();
                const relX = (x - rect.left) / rect.width - 0.5;
                const relY = (y - rect.top) / rect.height - 0.5;
                document.documentElement.style.setProperty('--phone-rotate-x', `${-relY * 20}deg`);
                document.documentElement.style.setProperty('--phone-rotate-y', `${relX * 30}deg`);
            };

            story2.addEventListener('mousemove', (e) => handleMove(e.clientX, e.clientY));

            window.addEventListener('deviceorientation', (e) => {
                if (e.gamma === null || e.beta === null) return;
                const x = e.gamma; // -90 to 90
                const y = e.beta;  // -180 to 180
                document.documentElement.style.setProperty('--phone-rotate-x', `${(y - 45) * 0.5}deg`);
                document.documentElement.style.setProperty('--phone-rotate-y', `${x * 0.8}deg`);
            });
        }

        // --- LIVE BUBBLE ---
        const liveBubble = document.getElementById('live-bubble');
        const liveBubbleContent = document.getElementById('live-bubble-content');
        const notifications = [
            "Kasia dołączyła do chillu w parku – 200 m od Ciebie",
            "Nowa ekipa na plaży – 500 m stąd",
            "Domówka u Anki właśnie się rozkręca!",
            "Grill na działkach, wpadaj!",
            "Karaoke w pubie za rogiem, wolny mikrofon!",
        ];
        let currentNotification = 0;
        
        const showBubble = () => {
            liveBubbleContent.textContent = notifications[currentNotification];
            liveBubble.classList.add('visible');
        };
        
        const hideBubble = (callback) => {
            liveBubble.classList.remove('visible');
            setTimeout(callback, 400);
        };

        const cycleNotifications = () => {
            hideBubble(() => {
                currentNotification = (currentNotification + 1) % notifications.length;
                showBubble();
            });
        };
        
        setTimeout(() => {
            showBubble();
            setInterval(cycleNotifications, 4000);
        }, 3000);

        // --- PARTICLE SNOW ---
        if (!reducedMotion) {
            const particleContainer = document.getElementById('particle-container');
            const particleCount = 40;
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                const size = Math.random() * 2.5 + 1;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.animationDuration = `${Math.random() * 10 + 8}s`;
                particle.style.animationDelay = `${Math.random() * 10}s`;
                particleContainer.appendChild(particle);
            }
        }

        // --- CURSOR GLOW ---
        const cursorGlow = document.getElementById('cursor-glow');
        if (cursorGlow && 'ontouchstart' in window === false) {
            window.addEventListener('mousemove', (e) => {
                cursorGlow.style.left = e.clientX + 'px';
                cursorGlow.style.top = e.clientY + 'px';
            });
        }

        // --- HAPTIC FEEDBACK ---
        const ctaButton = document.getElementById('cta-main');
        ctaButton.addEventListener('click', () => {
            if (window.navigator.vibrate) {
                window.navigator.vibrate(50);
            }
        });
    });
    </script>
</body>
</html>